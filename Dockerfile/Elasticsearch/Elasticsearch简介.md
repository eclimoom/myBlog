# elasticsearch

## RDBMS & ES

我相信大家对关系型数据库（简称 RDBMS）应该比较了解，因此接下来拿关系型数据库和 ES 做一个类比，让大家更容易理解：

| RDBMS  | ElasticSearch |
| ------ | ------------- |
| Table  | Index         |
| Row    | Document      |
| Column | Filed         |
| Schema | Mapping       |
| SQL    | DSL           |

## 集群

ES 集群其实是一个分布式系统，要满足高可用性，高可用就是当集群中有节点服务停止响应的时候，整个服务还能正常工作，也就是`服务可用性`；或者说整个集群中有部分节点丢失的情况下，不会有数据丢失，即`数据可用性`。

当用户的请求量越来越高，数据的增长越来越多的时候，系统需要把数据分散到其他节点上，最后来实现`水平扩展`。当集群中有节点出现问题的时候，整个集群的服务也不会受到影响。

一个 ES 集群有三种颜色来表示健康程度：

`Green`：主分片与副本都正常分配
`Yellow`：主分片全部正常分配，有副本分片未能正常分配
`Red`：有主分片未能分配（例如，当服务器的磁盘容量超过 85% 时，去创建了一个新的索引）
